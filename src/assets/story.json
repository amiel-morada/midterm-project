{
  "start": {
    "text": [
      "You were walking towards the place where people asked for your help.",
      "You arrive at the dimly lit town of San Gubat. The air is heavy with fear.",
      {
        "speaker": "Elias",
        "text": "{playerName}! You didn’t think I’d let you face this alone, did you? I’m coming with you. Adventure calls!"
      },
      {
        "speaker": "Elias",
        "text": "Besides… I don’t believe in these old folktales. There’s no such thing as monsters. Whoever’s behind this chaos is just a criminal, a man hiding in the dark. Not some creature from our elders’ stories."
      },
      "Before seeking answers, someone steps into your path..."
    ],
    "choices": [
      {
        "text": "Approach the woman.",
        "to": "meetDahra"
      }
    ]
  },

  "meetDahra": {
    "text": [
      {
        "speaker": "Dahra",
        "text": "Traveler, you must be {playerName}. I am Dahra. Be careful — the nights here are not kind."
      },
      {
        "speaker": "Dahra",
        "text": "They say the monster can split itself in half... only salt poured on its torso will end it. Remember this."
      },
      {
        "speaker": "Elias",
        "text": "Salt? Hmph. Old women’s tales... but I suppose we should keep it in mind."
      },
      {
        "speaker": "{playerName}",
        "text": "Thank you, Dahra. Where should I begin?"
      }
    ],
    "choices": [
      {
        "text": "Seek the old Albularyo (Healer) at the edge of town.",
        "to": "askAlbularyo"
      },
      {
        "text": "Report to the Barangay Captain at the town hall.",
        "to": "askCaptain"
      }
    ]
  },

  "askAlbularyo": {
    "text": [
      {
        "speaker": "{playerName}",
        "text": "I should find the old Albularyo at the edge of town. Maybe he can tell me more about this creature."
      },
      {
        "speaker": "{playerName}",
        "text": "Good evening, Albularyo. Can you help me? What am I dealing with?"
      },
      {
        "speaker": "Albularyo",
        "text": "Its story were passed down from generation to generation."
      },
      {
        "speaker": "Albularyo",
        "text": "I have heard tales of it from my ancestors."
      },
      {
        "speaker": "Albularyo",
        "text": "It has wings like a bat and separates at the waist."
      },
      {
        "speaker": "Albularyo",
        "text": "Here, take this salt. The Manananggal despises it."
      },
      {
        "speaker": "Elias",
        "text": "Salt, huh? Do you really think something so simple could kill it? Still... if you trust him, then so do I."
      },
      {
        "speaker": "Albularyo",
        "text": "Who is this man you are with?"
      },
      {
        "speaker": "{playerName}",
        "text": "It is my bestfriend Elias."
      },
      {
        "speaker": "Albularyo",
        "text": "..."
      },
      {
        "speaker": "Albularyo",
        "text": "He should not be here. Leave him behind."
      },
      {
        "speaker": "{playerName}",
        "text": "But he is my friend. I can’t just leave him."
      },
      {
        "speaker": "Albularyo",
        "text": "..."
      },
      {
        "speaker": "Elias",
        "text": "Don't listen to him, {playerName}. I’m coming with you."
      },
      {
        "speaker": "Elias",
        "text": "Besides, I don't like his place. It stings me somehow."
      },
      {
        "speaker": "Elias",
        "text": "We should continue our search."
      },
      "You've gained Asin."
    ],
    "onArrive": {
      "addItem": "Asin"
    },
    "choices": [
      {
        "text": "Leave the Albularyo.",
        "to": "npcBeforeOldChurch"
      }
    ]
  },

  "askCaptain": {
    "text": [
      {
        "speaker": "{playerName}",
        "text": "The captain might know something about these attacks. I need to report immediately."
      },
      {
        "speaker": "{playerName}",
        "text": "Captain, I need your guidance. What kind of creature am I facing?"
      },
      {
        "speaker": "Captain",
        "text": "So, you were the '{playerName}' everyone was waiting for."
      },
      {
        "speaker": "Captain",
        "text": "My best men have vanished. We believe it's a Manananggal, a different kind of horror. This might keep it at bay."
      },
      {
        "speaker": "Captain",
        "text": "I suggest you have this garlic. They say it will ward off evil spirits."
      },
      {
        "speaker": "Elias",
        "text": "Garlic? Hah. So many charms and trinkets... which of these do we even trust?"
      },
      {
        "speaker": "Captain",
        "text": "Some tales said that the hero will fight the Manananggal alone. Why are you with him?"
      },
      {
        "speaker": "{playerName}",
        "text": "Elias is my bestfriend. He will come with me"
      },
      {
        "speaker": "Elias",
        "text": "Yeah! I don't care if you are the Barangay Captain. Im coming with him!"
      },
      {
        "speaker": "Captain",
        "text": "Whatever. Continue your search. And take care. Take this Bawang with you."
      }
    ],
    "onArrive": {
      "addItem": "Bawang"
    },
    "choices": [
      {
        "text": "Leave the Barangay Captain.",
        "to": "npcBeforeOldChurch"
      }
    ]
  },

  "npcBeforeOldChurch": {
    "text": [
      {
        "speaker": "Mang Kardo",
        "text": "{playerName}... I am Mang Kardo, a farmer. I’ve seen shadows circling the old church at night."
      },
      {
        "speaker": "Mang Kardo",
        "text": "The old ones say... its torso waits while the rest of it flies. Salt — only salt — can end it."
      },
      {
        "speaker": "Elias",
        "text": "More salt talk. Isn’t it strange that everyone here repeats the same story? Almost as if they want you to believe it."
      },
      {
        "speaker": "{playerName}",
        "text": "Thank you, Mang Kardo. I’ll check the old church."
      },
      {
        "speaker": "Mang Kardo",
        "text": "And also, just a reminder. Be careful of who you trust."
      },
      {
        "speaker": "Elias",
        "text": "Hmmp, weirdo. Let's go now {playerName}!"
      }
    ],
    "choices": [
      {
        "text": "Head towards the old church.",
        "to": "oldChurch_entry"
      }
    ]
  },

  "oldChurch_entry": {
    "text": [
      "You and Elias arrive at the old, abandoned church on the outskirts of town.",
      "The ancient church is silent, its stone walls covered in moss.",
      "Dust motes dance in the single moonbeam piercing the roof.",
      {
        "speaker": "Elias",
        "text": "Its so creepy here... I don't like it. Let's leave this place."
      },
      {
        "speaker": "{playerName}",
        "text": "Not now Elias. We need to check the church for clues."
      },
      {
        "speaker": "Elias",
        "text": "Yea yea, whatever. Just be quick."
      },
      {
        "speaker": "{playerName}",
        "text": "I wonder if we should check the bell tower or the altar."
      },
      {
        "speaker": "Elias",
        "text": "My gut says we will find someone at the bell tower that would help us."
      },
      {
        "speaker": "Elias",
        "text": "Also, there is something in the altar that is making me uncomfortable."
      },
      "Do you investigate the crumbling bell tower or the desecrated altar?"
    ],
    "choices": [
      {
        "text": "Climb the creaking stairs to the bell tower.",
        "to": "bellTower"
      },
      {
        "text": "Inspect the altar at the far end of the church.",
        "to": "altar"
      }
    ]
  },

  "bellTower": {
    "text": [
      {
        "speaker": "{playerName}",
        "text": "I hear something above... I need to prepare myself for whatever's up there."
      },
      {
        "speaker": "{playerName}",
        "text": "Elias, where are you?"
      },
      {
        "speaker": "{playerName}",
        "text": "Elias?"
      },
      {
        "speaker": "{playerName}",
        "text": "ELIAS!"
      },
      {
        "speaker": "Wakwak",
        "text": "Who dares disturb my feast?!"
      },
      {
        "speaker": "Wakwak",
        "text": "Prepare to be devoured!"
      },
      "It's a Wakwak, feasting on a goat.",
      "It turns its glowing red eyes on you!",
      {
        "speaker": "{playerName}",
        "text": "I AM NOT AFRAID OF YOU, MONSTER!"
      }
    ],
    "choices": [
      {
        "text": "Thrust the garlic braid at it!",
        "to": "useGarlicOnWakwak",
        "requires": "Bawang"
      },
      {
        "text": "Fight it with your bolo!",
        "to": "fightWakwakNoGarlic"
      },
      {
        "text": "This isn't a Manananggal. The salt is useless here.",
        "to": "fightWakwakNoGarlic",
        "requires": "Asin"
      }
    ]
  },

  "useGarlicOnWakwak": {
    "text": [
      {
        "speaker": "{playerName}",
        "text": "Take this! The garlic should weaken it."
      },
      {
        "speaker": "{playerName}",
        "text": "I strike with my bolo as it recoils."
      },
      {
        "speaker": "Wakwak",
        "text": "Aaaahhh!"
      },
      "It shrieks and flies off into the night."
    ],
    "choices": [
      {
        "text": "The Wakwak flees into the shadows. Continue outside.",
        "to": "npcBeforeRiceFields"
      }
    ]
  },

  "fightWakwakNoGarlic": {
    "text": [
      {
        "speaker": "{playerName}",
        "text": "Without garlic, I have no advantage. I need to fight with what I have!"
      },
      {
        "speaker": "Wakwak",
        "text": "You are no match for me!"
      },
      "It claws you deeply before you can land a solid blow.",
      "You lose 30 HP.",
      {
        "speaker": "{playerName}",
        "text": "AARRGHHH... I need to get out of here!"
      }
    ],
    "onArrive": {
      "takeDamage": 30
    },
    "choices": [
      {
        "text": "Wounded, you limp outside.",
        "to": "npcBeforeRiceFields"
      }
    ]
  },

  "altar": {
    "text": [
      {
        "speaker": "{playerName}",
        "text": "Let's check the altar. Something feels safe here."
      },
      {
        "speaker": "Elias",
        "text": "I don't know man, the altar feels... off. Like something repels me here."
      },
      "The altar is overturned.",
      "You find something shiny.",
      {
        "speaker": "{playerName}",
        "text": "Wait, where's Elias?"
      },
      {
        "speaker": "{playerName}",
        "text": "He must have went outside."
      },
      "Behind the altar, you find a small, intricately carved amulet throbbing with a faint warmth.",
      "It feels protective.",
      "You've found an Agimat."
    ],
    "onArrive": {
      "addItem": "Agimat"
    },
    "choices": [
      {
        "text": "With the amulet secured, you leave the church.",
        "to": "npcBeforeRiceFields"
      }
    ]
  },

  "npcBeforeRiceFields": {
    "text": [
      {
        "speaker": "{playerName}",
        "text": "There you are Elias! I was worried."
      },
      {
        "speaker": "Elias",
        "text": "Sorry {playerName}, I just felt uneasy back in the church."
      },
      {
        "speaker": "{playerName}",
        "text": "Is that wound? What happened? Did the manananggal attack you?"
      },
      {
        "speaker": "Elias",
        "text": "Oh this? This is nothing! I stumbled on some rocks when I was leaving the church."
      },
      {
        "speaker": "Luningning",
        "text": "You must be {playerName}... my name is Luningning. I lost my sister to that winged beast."
      },
      {
        "speaker": "{playerName}",
        "text": "Yes,  I am {playerName}. I'm sorry for your loss, Luningning. Do you know where the creature might be?"
      },
      {
        "speaker": "Luningning",
        "text": "The elders whisper that its torso is its doom. Salt, only salt, will finish it."
      },
      {
        "speaker": "Elias",
        "text": "Again with the salt... doesn’t it feel too convenient? But fine, {playerName}. Lead the way."
      }
    ],
    "choices": [
      {
        "text": "Head into the rice fields.",
        "to": "riceFields_entry"
      }
    ]
  },

  "riceFields_entry": {
    "text": [
      "The moon hangs high over the vast, dark rice paddies.",
      "The air is still, save for the chirping of crickets.",
      {
        "speaker": "Elias",
        "text": "I'M SCARED {playerName}! LET'S GET OUT OF HERE!"
      },
      {
        "speaker": "{playerName}",
        "text": "WAIT, ELIAS! NO! I HAVE TO CHECK IT OUT!"
      },
      {
        "speaker": "Elias",
        "text": "YOU CAN DO IT {playerName}! I WILL WAIT YOU AT THE BALLETE TREE!"
      },
      {
        "speaker": "{playerName}",
        "text": "You moron, don't just run off!"
      },
      "In the distance, you hear the faint sound of a baby crying."
    ],
    "choices": [
      {
        "text": "It's a trap. A Tiyanak. Ignore it and press on.",
        "to": "baleteTree_approach"
      },
      {
        "text": "It could be a real child! Investigate the sound.",
        "to": "investigateTiyanak"
      }
    ]
  },

  "investigateTiyanak": {
    "text": [
      {
        "speaker": "{playerName}",
        "text": "That crying... could be a trap, but I can't ignore it."
      },
      {
        "speaker": "Tiyanak",
        "text": "Hehehe, come closer, human! My teeth hunger!"
      },
      "A small, monstrous creature leaps out, biting your leg before scurrying away!",
      "It was a Tiyanak!"
    ],
    "choices": [
      {
        "text": "You fell for the oldest trick in the book! (Lose 25 HP)",
        "to": "tiyanakDamage",
        "hideIf": "Agimat"
      },
      {
        "text": "Your Agimat glows, repelling the creature before it can bite!",
        "to": "baleteTree_approach",
        "requires": "Agimat"
      }
    ]
  },

  "tiyanakDamage": {
    "text": [
      {
        "speaker": "{playerName}",
        "text": "I was fooled! Its bite is painful!"
      },
      "You curse your foolishness and continue towards the ominous Balete tree.",
      "You lose 25 HP."
      
    ],
    "onArrive": {
      "takeDamage": 25
    },
    "choices": [
      {
        "text": "Continue, more cautious than before.",
        "to": "baleteTree_approach"
      }
    ]
  },

  "baleteTree_approach": {
    "text": [
      {
        "speaker": "{playerName}",
        "text": "I can't believe Elias ran off. I hope he's okay..."
      },
      "You've reached the heart of the darkness: a massive, ancient Balete tree with thick, hanging roots.",
      {
        "speaker": "{playerName}",
        "text": "But he said we'll meet here. I have to find him."
      },
      "You can hear a sickening squelching sound from above.",
      "The Manananggal is here. This is the final battle."
    ],
    "choices": [
      {
        "text": "Charge the tree and attack the creature head-on!",
        "to": "finalFight_direct"
      },
      {
        "text": "Remember the lore. Search for the lower half of its body.",
        "to": "finalFight_search"
      }
    ]
  },

  "finalFight_direct": {
    "text": [
      {
        "speaker": "{playerName}",
        "text": "I need to face it head-on. I must be careful!"
      },
      {
        "speaker": "Manananggal",
        "text": "How dare you come near me, human?!"
      },
      {
        "speaker": "Manananggal",
        "text": "You won't leave this place alive!"
      },
      "It swoops down, its claws tearing at you.",
      "Your bravery costs you dearly.",
      "You lose 50 HP.",
      "The creature screeches and takes flight, disappearing into the shadows of the tree..."
    ],
    "onArrive": {
      "takeDamage": 50
    },
    "choices": [
      {
        "text": "You're heavily wounded! You must find its lower half!",
        "to": "finalFight_search"
      }
    ]
  },

  "finalFight_search": {
    "text": [
      {
        "speaker": "{playerName}",
        "text": "I must find its lower half. This is my only chance!"
      },
      {
        "speaker": "{playerName}",
        "text": "There you are Elias! Where have you ran off this time?!"
      },
      "Hidden among the gnarled roots, you find it: the creature's vulnerable lower torso, standing motionless.",
      {
        "speaker": "Elias",
        "text": "...Yes. There it is. End it quickly, {playerName}. Or should I say... try to."
      },
      {
        "speaker": "{playerName}",
        "text": "Elias...? Why do you look so strange... and those wounds...?"
      },
      {
        "speaker": "Manananggal",
        "text": "Fool! Did you never wonder why I guided you here? I am the Manananggal!"
      },
      {
        "speaker": "{playerName}",
        "text": "No... Elias... all this time?!"
      }
    ],
    "choices": [
      {
        "text": "Pour the holy salt into the torso!",
        "to": "goodEnding",
        "requires": "Asin"
      },
      {
        "text": "Hack at it with your bolo!",
        "to": "badEnding_noSalt"
      }
    ]
  },
"goodEnding": {
  "text": [
    "As the salt touches the flesh, the torso erupts in black smoke.",
    {
      "speaker": "Manananggal",
      "text": "No... this cannot be...!"
    },
    "High above, the winged creature gives a final, agonizing shriek and disintegrates into dust.",
    "The sun begins to rise.",
    {
      "speaker": "{playerName}",
      "text": "Elias... my friend... why? Why did it have to be you?"
    },
    "You fall to your knees, torn between triumph and heartbreak.",
    {
      "speaker": "{playerName}",
      "text": "At least... I have killed the monster. San Gubat is now."
    },
    "You have saved San Gubat..."
  ],
  "isEnding": true,
  "endingType": "victory"
},

"badEnding_noSalt": {
  "text": [
    "Your bolo cuts deep, but it's not enough.",
    {
      "speaker": "Manananggal",
      "text": "You dare strike me?!"
    },
    "The creature swoops down, enraged, and impales you with its sharp tongue.",
    {
      "speaker": "{playerName}",
      "text": "Elias... why...?"
    },
    "Your lack of the proper tool was your undoing.",
    "GAME OVER."
  ],
  "isEnding": true,
  "endingType": "defeat"
},

"gameOver_hp": {
  "text": [
    "Your wounds are too severe.",
    "You collapse, and the darkness consumes you.",
    "Your hunt ends in failure.",
    "GAME OVER."
  ],
  "isEnding": true,
  "endingType": "defeat"
}
}